  <!DOCTYPE html>
<html lang="en" class="no-js" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="title" content="UTKANSH'23 - Cultural Fest NIT Jalandhar">
  <meta name="description" content="Utkansh'23 23-26 March.UTKANSH the cultural fest of NITJ is the biggest cultural fest of North India and is held in National Institute of Technology, Jalandhar">
  <meta name="keywords" content="Utkansh, utkansh, UTKANSH, NITJ, UTKANSH NITJ, UTKANSH 2023, Cultural fest NIT Jalandhar, Utkansh NIT Jalandhar, NIT Jalandhar fest, nit jalandhar fest, nit jalandhar fest 2023, Utkansh'23, utkansh">
    <link rel="icon" href="img/utkanshLogo.png" type="image/png">
  <title>Sign In-UTKANSH'23</title>
  <link rel="stylesheet" href="css/navbarreset.css"> <!-- CSS reset -->
  <link rel="stylesheet" href="css/navbar.css"> <!-- Resource style -->
  <script src="js/modernizer.js"></script> <!-- Modernizr -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    
    <!-- FontAwesome CSS -->
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
     <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>   
    <script src="js/nav.js"></script>
    <!-- Swiper CSS -->
   <link rel="stylesheet" href="css/style.css">
       <style>
           body {
               background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
               background-size: 400% 400%;
               animation: gradient 15s ease infinite;
           }

           @keyframes gradient {
               0% {
                   background-position: 0 50%;
               }
               50% {
                   background-position: 100% 50%;
               }
               100% {
                   background-position: 0 50%;
               }
           }

    </style>

</head>
<body >


  <header>
		<a class="cd-logo" href="main.html"><img src="img/utkanshLogo.png" alt="Logo"></a>
	</header>

  <nav>
      <ul class="cd-primary-nav">
          <li><a href="main.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="megaevents.html">Mega Events</a></li>
          <li><a href="clubs.html">Clubs and Events</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="core&#32;members.html">Team Utkansh</a></li>
          <li><a href="developers.html">Developers</a></li>
          <li><a href="tshirt.html">Merchandise</a></li>
          <li><a href="accommodation.html">Event fee and Accommodation</a></li>
          <li><a href="sponsor.html">Sponsors</a></li>
          <li><a href="contact.html">Contact us</a></li>
          <li id="login"><a href="register.html" ><h2>Register here</h2></a></li>
          <li id="sign-out" style="display:none;"><a href="user.html" ><h2>Dashboard</h2></a></li>
      </ul>
  </nav>


	

	<div class="cd-overlay-nav">
		<span></span>
	</div> <!-- cd-overlay-nav -->

	<div class="cd-overlay-content">
		<span></span>
	</div> <!-- cd-overlay-content -->

	<a href="register.html#0" class="cd-nav-trigger">Menu<span class="cd-icon"></span></a>
    

<div class="container">
    <div class="row">
      <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
        <div class="card card-signin my-5">
          <div class="card-body ">
              <h5 class="card-title text-center">Sign In</h5>
              <div id="firebaseui-auth-container"></div>
              <div id="loader">Loading...</div>

          </div>
        </div>
      </div>
    </div>
  </div>
       <!--All SCRIPTS -->
    <!-- NAvbar jQuery -->
    <script>
      function fn(){
        
        b=document.getElementById("Number").value;
        a=parseInt(b)
        if(a<=6000000000||isNaN(a))
        {
          document.getElementById("Number").value="";
        return document.getElementById("Number").placeholder="INVALID NUMBER";
        }
         document.getElementById("otp").style="display:block";
         document.getElementById("signInGoogle").disabled=true;
        document.getElementById("Number").disabled="true";
      }
    </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <!-- NAvbar jQuery -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/velocity.min.js"></script>
<script src="js/main.js"></script> <!-- Resource jQuery -->
    <script type='text/javascript' src='js/jquery.js'></script>
    <script type='text/javascript' src='js/masonry.pkgd.min.js'></script>
    <script type='text/javascript' src='js/jquery.collapsible.min.js'></script>
    <script type='text/javascript' src='js/swiper.min.js'></script>
    <script type='text/javascript' src='js/jquery.countdown.min.js'></script>
    <script type='text/javascript' src='js/circle-progress.min.js'></script>
    <script type='text/javascript' src='js/jquery.countTo.min.js'></script>
    <script type='text/javascript' src='js/custom.js'></script>
   

    <!-- <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>    -->
   
    <!-- <script>
      // Your web app's Firebase configuration
       firebaseConfig = {
          apiKey: "AIzaSyDsLGQUDdrrrxq5V_mcTUY1HpGT8168P8A",
          authDomain: "utkansh-2023-nitj.firebaseapp.com",
          projectId: "utkansh-2023-nitj",
          storageBucket: "utkansh-2023-nitj.appspot.com",
          messagingSenderId: "754641140210",
          appId: "1:754641140210:web:1ff8239de9a1b27ad1936b",
          measurementId: "G-3EZ2KXFV0M",
          databaseURL:"https://utkansh-2023-nitj-default-rtdb.firebaseio.com/"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script> -->


    <script type="text/javascript">

      const UI = new firebaseui.auth.AuthUI(firebase.auth());

      UI.start('#firebaseui-auth-container', {
         callbacks: {
          signInSuccessWithAuthResult: function(authResult, redirectUrl) {
                window.user = authResult.user;
                // console.log(window.user);
                // console.log(authResult , authResult.user);
                afterAuthRedirect();
            return false;
          },
          uiShown: function() {
            // The widget is rendered.
            // Hide the loader.
            document.getElementById('loader').style.display = 'none';
          }
        },
        signInOptions : [
          {
            provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,
            recaptchaParameters: {
              type: 'image', // 'audio'
              size: 'normal', // 'invisible' or 'compact'
              badge: 'bottomleft' //' bottomright' or 'inline' applies to invisible.
            },
            defaultCountry: 'IN', // Set default country to the United Kingdom (+44).
            // For prefilling the national number, set defaultNationNumber.
            // This will only be observed if only phone Auth provider is used since
            // for multiple providers, the NASCAR screen will always render first
            // with a 'sign in with phone number' button.
            defaultNationalNumber: '',
            // You can also pass the full phone number string instead of the
            // 'defaultCountry' and 'defaultNationalNumber'. However, in this case,
            // the first country ID that matches the country code will be used to
            // populate the country selector. So for countries that share the same
            // country code, the selected country may not be the expected one.
            // In that case, pass the 'defaultCountry' instead to ensure the exact
            // country is selected. The 'defaultCountry' and 'defaultNationaNumber'
            // will always have higher priority than 'loginHint' which will be ignored
            // in their favor. In this case, the default country will be 'GB' even
            // though 'loginHint' specified the country code as '+1'.
            loginHint: ''
          }
        ],
        // Other config options...
      });

    </script>

   
    <script type="text/javascript">  

   

    async function afterAuthRedirect() {

      const db = await firebase.firestore();
      // console.log(await db.collection('users'));

      await db.collection('users').doc("UTK_"+window.user.phoneNumber.substring(3)).get()
        .then(doc => {
          if (!doc.exists) {
             window.location = "/furtherDetails.html";
          } else {
            window.location = "/main.html";
          }
        })
        .catch(err => {
          console.log('Error getting document', err);
        });

     
    }

  </script>
  

  <!-- delete this after -->
  <script>

   async function find()
   {
    const db = await firebase.firestore();
    alert(await db.collection('users').doc("utk_").get());
  
      await db.collection('users').doc("utk_").get()
        .then(doc => {
          if (!doc.exists) {
            console.log(doc)
            // alert("Hello");
            //  window.location = "/furtherDetails.html";
          } else {
            console.log(doc.data().phoneNumber)
            // window.location = "/main.html";
          }
        })
        .catch(err => {
          console.log('Error getting document', err);
        });

      
    

  }
   find();

  </script>



  <!-- end of delete -->

</div>
    </body>
</html>
